<div class="container" tabindex="0" (keydown)="onKeyPress($event)"
     (mouseup)="stageClick($event)" (mousemove)="onMouseMove" (mouseleave)="onMouseLeave">
    <div #viewport class="viewport"
         [style.width.px]="program.design.width + holderWidth"
         [style.height.px]="program.design.height + holderHeight">
        <div #canvas class="canvas"
             [style.left.px]="holderWidth/2"
             [style.top.px]="holderHeight/2"
             [style.width.px]="program.design.width"
             [style.height.px]="program.design.height"
             [style.background-color]="program.design.color"
             [style.background-image]="program.design.imageUrl"
             [style.background-size]="program.design.fit.sizeCss"
             [style.background-repeat]="program.design.fit.repeatCss">
            <template ngFor let-item let-i="index" [ngForOf]="program.design.frames">
                <frame-item [item]="item" (click)="onItemClick($event, item)"></frame-item>
            </template>
        </div>
        <div class="handle-holder"
             [style.left.px]="holderWidth/2"
             [style.top.px]="holderHeight/2"
             [style.width.px]="program.design.width"
             [style.height.px]="program.design.height">
            <!--<div class="handle-container">-->
                <template [ngIf]="selectedRect != null">
                    <div class="selected-box"
                         [style.left.px]="selectedRect.left"
                         [style.top.px]="selectedRect.top"
                         [style.width.px]="selectedRect.width"
                         [style.height.px]="selectedRect.height">
                        <div class="mover" (mousedown)="onMoveStart($event)"></div>
                        <div class="h-sizer" (mousedown)="onHResizeStart($event)"></div>
                        <div class="v-sizer" (mousedown)="onVResizeStart($event)"></div>
                    </div>
                </template>
            <!--</div>-->
        </div>
    </div>
</div>